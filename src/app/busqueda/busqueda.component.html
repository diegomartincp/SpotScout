<html>

<body>
  <div class="card fotoFondoBusqueda">
    <div class="card-body">
      <div id="wrapper">
        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">
          <div id="content">

            <!-- BARRA DE BUSQUEDA -->
            <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
              <form class="input-group p-3 w-50 align-items-center">
                <div class="input-group">
                  <input type="text" class="form-control" placeholder="Introduzca la localidad a buscar"
                    aria-describedby="button-addon2" #query>
                  <div class="input-group-append">
                    <button class="btn btn-outline-secondary" type="button" id="button-addon2"
                      (click)="funcion_general(query.value)">Realizar búsqueda</button>
                  </div>
                </div>
              </form>
            </nav>

            <div class="container-fluid mt-5" [style.filter]="'blur(' + tamano + 'px)'"> <!-- [style.visibility]="mostrar" -->

              <div class="d-flex mb-4">
                <h1 class="h3 mb-0 text-gray-800 mr-5">Datos obtenidos para {{ciudad}}</h1>
                <div style="margin-left:15px">
                </div>
              </div>

              <!-- Tarjetas datos web scrappers-->
              <div class="row">
                <!-- Viviendas en Alquiler -->
                <div class="col-xl-3 col-md-6 mb-4">
                  <div class="card border-left-primary shadow h-100 py-2">
                    <div class="card-body">
                      <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                          <div style="text-align: center; margin-bottom: 30px">
                            <img src="../../assets/images/iconoAlquilar.jpg" width="100" height="100" alt="Alquiler viviendas"></div>
                          <div class="text-xs text-primary text-uppercase mb-1 fw-bold" style="text-align: center;">Nº Viviendas en Alquiler</div>
                          <div class="h5 mb-0 font-weight-bold text-gray-800" style="text-align: center;">{{ numVivAlq}}</div>
                        </div>
                        <div class="col-auto">
                          <i class="fas fa-calendar fa-2x text-gray-300"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Viviendas en Venta -->
                <div class="col-xl-3 col-md-6 mb-4">
                  <div class="card border-left-success shadow h-100 py-2">
                    <div class="card-body">
                      <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                          <div style="text-align: center; margin-bottom: 30px">
                            <img src="../../assets/images/iconoComprar.jpg" width="100" height="100" alt="Venta viviendas">
                          </div>
                          <div class="text-xs text-success text-uppercase mb-1 fw-bold" style="text-align: center;">Nº Viviendas en Venta</div>
                          <div class="h5 mb-0 font-weight-bold text-gray-800" style="text-align: center;">{{numVivVent}}</div>
                        </div>
                        <div class="col-auto">
                          <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Precio medio Viviendas -->
                <div class="col-xl-3 col-md-6 mb-4">
                  <div class="card border-left-info shadow h-100 py-2">
                    <div class="card-body">
                      <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                          <div style="text-align: center; margin-bottom: 30px">
                            <img src="../../assets/images/iconoPrecioMedio.jpg" width="100" height="100"alt="Precio medio vivienda"></div>
                          <div class="text-xs text-info text-uppercase mb-1 fw-bold" style="text-align: center;">Precio medio Viviendas</div>
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="h5 mb-0 font-weight-bold text-gray-800">
                                <p class="text-center fw-bold">{{ medioEsc }}</p>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-auto">
                          <i class="fas fa-clipboard-list fa-2x text-gray-300"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Media €/Metro Cuadrado -->
                <div class="col-xl-3 col-md-6 mb-4">
                  <div class="card border-left-warning shadow h-100 py-2">
                    <div class="card-body">
                      <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                          <div style="text-align: center; margin-bottom: 30px">
                            <img src="../../assets/images/iconoM2.jpg" width="100" height="100" alt="Precio m2"></div>
                          <div class="text-xs text-warning text-uppercase mb-1 fw-bold" style="text-align: center;">Media €/Metro Cuadrado</div>
                          <div class="h5 mb-0 font-weight-bold text-gray-800">
                            <p class="text-center fw-bold">{{ m2Esc }}</p>
                          </div>
                        </div>
                        <div class="col-auto">
                          <i class="fas fa-comments fa-2x text-gray-300"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Graficas -->
              <div class="row mt-5 fixed">
                <!-- tweets -->
                <div class="col-xl-7 col-lg-7">
                  <div class="card shadow mb-4">
                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                      <h6 class="m-0 text-InfoTarjetaBusqueda fw-bold">Análisis de Sentimiento de los Últimos Tweets</h6>
                    </div>
                    <div class="card-body">
                      <div class="chart-area pt-4 pb-5">
                        <canvas id="myAreaChart"></canvas>
                      </div>
                    </div>
                  </div>
                </div>
                 <!-- odio -->
                <div class="col-xl-5 col-lg-5">
                  <div class="card shadow mb-4">
                    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                      <h6 class="m-0 fw-bold text-InfoTarjetaBusqueda">Sentimiento de Odio de las Noticias</h6>
                    </div>
                    <div class="card-body">
                      <div class="chart-pie pt-4 pb-2">
                        <canvas id="myPieChart"></canvas>
                      </div>
                      <div class="mt-4 text-center small">
                        <span class="mr-2">
                          <p class="text-center fw-bold">Se ha detectado un {{ resultadoEsc *100}}% de odio</p>
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Restaurantes -->
              <div class="row d-flex mt-5 justify-content-center align-items-center">
                <div class="col-xl-12 col-lg-7">
                  <div class="card shadow mb-4 d-flex justify-content-between">
                    <div class="card-header py-3 d-flex flex-row  justify-content-center align-items-center ">
                      <h6 class="m-0 fw-bold text-InfoTarjetaBusqueda mb-2 d-flex justify-content-center">Listado de Restaurantes de la Zona</h6>
                    </div>
                      <div class="why-us border-left-primary" style="background-color: transparent;">
                        <div class="container">
                          <div class="row">
                            <div class="col-xl-12 col-lg-12 d-flex mt-3">
                              <div class="icon-boxes d-flex flex-column justify-content-center">
                                <div class="row">
                                  <div class="col-xl-3 d-flex align-items-stretch mb-2 bac" data-aos="fade-up"
                                    data-aos-delay="100" *ngFor="let nombre of nombresRestaurantes | slice:0:10; let i=index;">
                                    <div class="icon-box mt-4 mt-xl-0" style="height: 90%;">
                                      <div class="row">
                                        <img src="../../assets/images/{{imagenesRestaurantes[i]}}">
                                      </div>
                                      <div class="row text-white">
                                        <h5 style="margin-top: 15px; margin-bottom: 15px" class="text-white">{{nombre}}</h5>
                                        <p class="text-white"> <b>Puntuación:</b> {{valoracionesRestaurantes[i]}}</p>
                                        <p class="text-white"><b>Tags:</b> {{etiquetasRestaurantes[i]}}</p>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>



  </div>

</body>

</html>
